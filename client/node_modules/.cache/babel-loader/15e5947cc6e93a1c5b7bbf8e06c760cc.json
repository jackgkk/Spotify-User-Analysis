{"ast":null,"code":"function fetchToken(code) {\n  return fetch(`/auth?code=${code}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => res.json()).then(res => () => {\n    window.localStorage.setItem('token', res.data.access_token);\n  });\n}\n\nfunction fetchAuthCode() {\n  fetch('/auth', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'text/html'\n    }\n  }).then(res => res.text()).then(res => window.location.href = res);\n}\n\nexport default {\n  fetchToken,\n  fetchAuthCode\n};","map":{"version":3,"sources":["/home/jackgkk/UL/LicenceProject/SpotifyAnalysis/client/src/api/index.ts"],"names":["fetchToken","code","fetch","method","headers","then","res","json","window","localStorage","setItem","data","access_token","fetchAuthCode","text","location","href"],"mappings":"AAAA,SAASA,UAAT,CAAqBC,IAArB,EAA8C;AAC5C,SAAOC,KAAK,CAAE,cAAaD,IAAK,EAApB,EAAuB;AACjCE,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAFwB,GAAvB,CAAL,CAMJC,IANI,CAMCC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANR,EAOJF,IAPI,CAOCC,GAAG,IAAI,MAAM;AACjBE,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,EAAqCJ,GAAG,CAACK,IAAJ,CAASC,YAA9C;AACD,GATI,CAAP;AAUD;;AAED,SAASC,aAAT,GAA0B;AACxBX,EAAAA,KAAK,CAAC,OAAD,EAAU;AACbC,IAAAA,MAAM,EAAE,KADK;AAEbC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAFI,GAAV,CAAL,CAMGC,IANH,CAMQC,GAAG,IAAIA,GAAG,CAACQ,IAAJ,EANf,EAOGT,IAPH,CAOQC,GAAG,IAAKE,MAAM,CAACO,QAAP,CAAgBC,IAAhB,GAAuBV,GAPvC;AAQD;;AAED,eAAe;AAAEN,EAAAA,UAAF;AAAca,EAAAA;AAAd,CAAf","sourcesContent":["function fetchToken (code: string | string[]) {\n  return fetch(`/auth?code=${code}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  })\n    .then(res => res.json())\n    .then(res => () => {\n      window.localStorage.setItem('token', res.data.access_token)\n    })\n}\n\nfunction fetchAuthCode () {\n  fetch('/auth', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'text/html'\n    }\n  })\n    .then(res => res.text())\n    .then(res => (window.location.href = res))\n}\n\nexport default { fetchToken, fetchAuthCode }\n"]},"metadata":{},"sourceType":"module"}