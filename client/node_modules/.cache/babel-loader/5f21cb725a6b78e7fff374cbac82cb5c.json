{"ast":null,"code":"function fetchToken(code) {\n  return fetch(`/auth?code=${code}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => res.json()).then(res => () => {\n    window.localStorage.setItem('accessToken', res.data.access_token);\n    window.localStorage.setItem('refreshToken', res.data.refresh_token);\n  });\n}\n\nfunction fetchAuthCode() {\n  fetch('/auth', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'text/html'\n    }\n  }).then(res => res.text()).then(res => window.location.href = res);\n}\n\nfunction fetchRefreshToken() {\n  fetch('/auth/refresh', {\n    method: 'Post',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => res.json()).then(res => window.localStorage.setItem('accessToken', res.data.access_token));\n}\n\nexport default {\n  fetchToken,\n  fetchAuthCode\n};","map":{"version":3,"sources":["/home/jackgkk/UL/LicenceProject/SpotifyAnalysis/client/src/api/index.ts"],"names":["fetchToken","code","fetch","method","headers","then","res","json","window","localStorage","setItem","data","access_token","refresh_token","fetchAuthCode","text","location","href","fetchRefreshToken"],"mappings":"AAAA,SAASA,UAAT,CAAoBC,IAApB,EAA6C;AACzC,SAAOC,KAAK,CAAE,cAAaD,IAAK,EAApB,EAAuB;AAC/BE,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAFsB,GAAvB,CAAL,CAMFC,IANE,CAMIC,GAAD,IAASA,GAAG,CAACC,IAAJ,EANZ,EAOFF,IAPE,CAOIC,GAAD,IAAS,MAAM;AACjBE,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,EAA2CJ,GAAG,CAACK,IAAJ,CAASC,YAApD;AACAJ,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,cAA5B,EAA4CJ,GAAG,CAACK,IAAJ,CAASE,aAArD;AACH,GAVE,CAAP;AAWH;;AAED,SAASC,aAAT,GAAyB;AACrBZ,EAAAA,KAAK,CAAC,OAAD,EAAU;AACXC,IAAAA,MAAM,EAAE,KADG;AAEXC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAFE,GAAV,CAAL,CAMKC,IANL,CAMWC,GAAD,IAASA,GAAG,CAACS,IAAJ,EANnB,EAOKV,IAPL,CAOWC,GAAD,IAAUE,MAAM,CAACQ,QAAP,CAAgBC,IAAhB,GAAuBX,GAP3C;AAQH;;AAED,SAASY,iBAAT,GAA6B;AACzBhB,EAAAA,KAAK,CAAC,eAAD,EAAkB;AACnBC,IAAAA,MAAM,EAAE,MADW;AAEnBC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAFU,GAAlB,CAAL,CAMKC,IANL,CAMWC,GAAD,IAASA,GAAG,CAACC,IAAJ,EANnB,EAOKF,IAPL,CAOWC,GAAD,IACFE,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,EAA2CJ,GAAG,CAACK,IAAJ,CAASC,YAApD,CARR;AAUH;;AAED,eAAe;AAAEZ,EAAAA,UAAF;AAAcc,EAAAA;AAAd,CAAf","sourcesContent":["function fetchToken(code: string | string[]) {\n    return fetch(`/auth?code=${code}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n        .then((res) => res.json())\n        .then((res) => () => {\n            window.localStorage.setItem('accessToken', res.data.access_token);\n            window.localStorage.setItem('refreshToken', res.data.refresh_token);\n        });\n}\n\nfunction fetchAuthCode() {\n    fetch('/auth', {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'text/html',\n        },\n    })\n        .then((res) => res.text())\n        .then((res) => (window.location.href = res));\n}\n\nfunction fetchRefreshToken() {\n    fetch('/auth/refresh', {\n        method: 'Post',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    })\n        .then((res) => res.json())\n        .then((res) =>\n            window.localStorage.setItem('accessToken', res.data.access_token)\n        );\n}\n\nexport default { fetchToken, fetchAuthCode };\n"]},"metadata":{},"sourceType":"module"}