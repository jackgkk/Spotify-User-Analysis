{"ast":null,"code":"function fetchAuthCode() {\n  fetch('/auth', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'text/html'\n    }\n  }).then(res => res.text()).then(res => window.location.href = res).catch(() => console.log('Error while fetching the auth code'));\n}\n\nfunction fetchTopItems(timeRange, token, type) {\n  return fetch(`/topItems?timeRange=${timeRange}&token=${token}&type=${type}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res => res.ok ? res.json() : res.json().then(res => {\n    res.status = 401;\n    return res;\n  }));\n}\n\nexport default {\n  fetchTopItems,\n  fetchAuthCode\n};","map":{"version":3,"sources":["/home/jackgkk/UL/LicenceProject/SpotifyAnalysis/client/src/api/index.ts"],"names":["fetchAuthCode","fetch","method","headers","then","res","text","window","location","href","catch","console","log","fetchTopItems","timeRange","token","type","ok","json","status"],"mappings":"AAAA,SAASA,aAAT,GAA0B;AACxBC,EAAAA,KAAK,CAAC,OAAD,EAAU;AACbC,IAAAA,MAAM,EAAE,KADK;AAEbC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAFI,GAAV,CAAL,CAMGC,IANH,CAMQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EANf,EAOGF,IAPH,CAOQC,GAAG,IAAKE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBJ,GAPvC,EAQGK,KARH,CAQS,MAAMC,OAAO,CAACC,GAAR,CAAY,oCAAZ,CARf;AASD;;AAED,SAASC,aAAT,CAAwBC,SAAxB,EAA2CC,KAA3C,EAA0DC,IAA1D,EAAwE;AACtE,SAAOf,KAAK,CAAE,uBAAsBa,SAAU,UAASC,KAAM,SAAQC,IAAK,EAA9D,EAAiE;AAC3Ed,IAAAA,MAAM,EAAE,KADmE;AAE3EC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AAFkE,GAAjE,CAAL,CAKJC,IALI,CAKCC,GAAG,IACTA,GAAG,CAACY,EAAJ,GACIZ,GAAG,CAACa,IAAJ,EADJ,GAEIb,GAAG,CAACa,IAAJ,GAAWd,IAAX,CAAgBC,GAAG,IAAI;AACvBA,IAAAA,GAAG,CAACc,MAAJ,GAAa,GAAb;AACA,WAAOd,GAAP;AACD,GAHC,CARC,CAAP;AAaD;;AAED,eAAe;AAAEQ,EAAAA,aAAF;AAAiBb,EAAAA;AAAjB,CAAf","sourcesContent":["function fetchAuthCode () {\n  fetch('/auth', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'text/html'\n    }\n  })\n    .then(res => res.text())\n    .then(res => (window.location.href = res))\n    .catch(() => console.log('Error while fetching the auth code'))\n}\n\nfunction fetchTopItems (timeRange: String, token: String, type: String) {\n  return fetch(`/topItems?timeRange=${timeRange}&token=${token}&type=${type}`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(res =>\n    res.ok\n      ? res.json()\n      : res.json().then(res => {\n        res.status = 401\n        return res\n      })\n  )\n}\n\nexport default { fetchTopItems, fetchAuthCode }\n"]},"metadata":{},"sourceType":"module"}